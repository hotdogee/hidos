{% extends "app/layout.html" %}
{% load static %}
{% block content-body %}
  <div id="cover">
    <div class="jumbotron vertical-center">
      <div class="container text-center">
        <img src="{% static 'app/images/loading.gif' %}">
        <h5>Cell M1 is working...</h5>
      </div>
    </div>
  </div>
  <section id="result">
    <h3>Cell M1: Transwell Migration <small>v{{ version }}</small></h3>
    <ul>
        <li><h5>Image Name: <span id="name">{{ user_filename }}</span></h5></li>
        <li><h5>Cell proportion: <span id="ratio"></span></h5></li>
    </ul>
    <p>Drag the image to pan, use the mousewheel to zoom</p>
    <div class="row">
      <div class="col s12 m6">
        <h5>Input Image <a id="input-download" download><span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span></a></h5>
        <div class="parent">
          <img class="panzoom" id="input-img">
        </div>
      </div>
      <div class="col s12 m6">
        <h5>Result Image <a id="result-download" download><span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span></a></h5>
        <div class="parent">
          <img class="panzoom" id="result-img">
        </div>
      </div>
    </div>
  </section>
{% endblock %}

{% block head-styles %}
  <style type="text/css">
    #cover {
      position: absolute;
      height: 100%;
      width: 100%;
    }
  </style>
  <style type="text/css">
    #result {
      margin: 30px;
      display: none;
    }
    div.parent {
      display: inline-block;
      /*border: 4px dotted;*/
    }
    /*.panzoom > img {
      width: 300px;
      height: 300px;
    }*/
    .vertical-center {
      height: 100%;
      width: 100%;
      text-align: center; /* align the inline(-block) elements horizontally */
      font: 0/0 a; /* remove the gap between inline(-block) elements */
    }

    .vertical-center:before { /* create a full-height inline block pseudo=element */
      content: ' ';
      display: inline-block;
      vertical-align: middle; /* vertical alignment of the inline element */
      height: 100%;
    }

    .vertical-center > .container {
      max-width: 100%;
      display: inline-block;
      vertical-align: middle; /* vertical alignment of the inline element */
    }
  </style>
{% endblock %}

{% block scripts %}
  <script src="{% static 'app/scripts/jquery.panzoom.js' %}"></script>
  <script src="{% static 'app/scripts/underscore-min.js' %}"></script>
  <script src="{% static 'cellm1/js/result.js' %}"></script>
{% endblock %}
